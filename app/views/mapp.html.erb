<!DOCTYPE html>
<html ng-app="TravelApp">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://maps.googleapis.com/maps/api/js?libraries=places"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
    <script src="/lib/js/ng-map.js"></script>
    <link rel="stylesheet" media="screen"  href="/lib/css/timeline_style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <%= stylesheet_link_tag 'mapp', media: 'all' %>
    <%= javascript_include_tag 'angular' %>
    <
  </head>
  <body>
    <script>
      var styles = [{"stylers":[{"visibility":"on"},{"saturation":-100},{"gamma":0.54}]},{"featureType":"road","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"water","stylers":[{"color":"#4d4946"}]},{"featureType":"poi","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"labels.text","stylers":[{"visibility":"simplified"}]},{"featureType":"road","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.local","elementType":"labels.text","stylers":[{"visibility":"simplified"}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"transit.line","elementType":"geometry","stylers":[{"gamma":0.48}]},{"featureType":"transit.station","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"gamma":7.18}]}]
    </script>
      <div ng-controller="mapController">
        <ng-map center="40, -79" zoom=2 default-style="false" zoom-to-inlude-markers="true"
        zoom-control="true"
        zoom-control-options="{position: 'LEFT_BOTTOM'}"
        map-type-control-options="{position: 'LEFT_BOTTOM'}"
        styles=[{"stylers":[{"visibility":"on"},{"saturation":-100},{"gamma":0.54}]},{"featureType":"road","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"water","stylers":[{"color":"#4d4946"}]},{"featureType":"poi","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"labels.text","stylers":[{"visibility":"simplified"}]},{"featureType":"road","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.local","elementType":"labels.text","stylers":[{"visibility":"simplified"}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"transit.line","elementType":"geometry","stylers":[{"gamma":0.48}]},{"featureType":"transit.station","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"gamma":7.18}]}]
        >
          <!-- <mapOption minZoom=2 /> -->
          <marker ng-repeat="trip in trips.trips" position="{{trip.latitude}},{{trip.longitude}}" animation="DROP" title="{{trip.name}}" on-click="show()"></marker>
        </ng-map>
      </div>

    <!-- John: Angular code -->
    <!-- <header ng-controller="HeaderController as header">
    <h1>Welcome, {{header.current_user.username}}!</h1>
    </header> -->
    <div id="modal">
        <main ng-controller="TripsController as trips" id="temp-overflow">
          <!-- List of All the Users Trips -->
          <h2>All of your trips</h2>
          <ul>
            <li ng-repeat="trip in trips.current_user_trips">
              Title: {{trip.title}}
              Destination: {{trip.destination}}
              Description: {{trip.description}}
              Start Date: {{trip.start_date}}
              End Date: {{trip.end_date}}
              Tags: {{trip.trip_type}}
              Notes: {{trip.notes}}
              Latitude: {{trip.latitude}}
              Longitude: {{trip.longitude}}
            <div ng-controller="CommentsController as commentsCtrl">
              <h3>Comments:</h3>
                <ul>
                  <li ng-repeat="comment in trip.comments">
                    Entry: {{comment.entry}}
                    <br/>
                    Author: {{comment.commenter}}
                    <br/>
                  </li>
                </ul>
                <form ng-submit="commentsCtrl.createComment()">
                  <input type="text" ng-model="commentsCtrl.newCommentEntry" placeholder="entry"/>
                  <br/>
                  <!-- <input type="text" ng-model="commentsCtrl.newCommentCommenter" placeholder="commenter"/> -->
                  <input type="submit" value="Comment"/>
                </form>
              </div>
            </li>
          </ul>
          <!-- Form to Enter Users Latest Trip -->
          <h2>Where have you been?</h2>
          <form ng-submit="trips.createTrip()">
            <input type="text" ng-model="trips.newTripTitle" placeholder="Title"/>
            <input class="search" places-auto-complete types="['geocode']" on-place-changed="placeChanged()"/>
            <input type="text" ng-model="trips.newTripDescription" placeholder="Description"/>
            <input type="date" ng-model="trips.newTripStartDate" placeholder="Start Date"/>
            <input type="date" ng-model="trips.newTripEndDate" placeholder="End Date"/>
            <input type="text" ng-model="trips.newTripNotes" placeholder="Notes"/>
            <input type="submit" value="Submit your Trip"/>
          </form>
        </main>
    </div>
    <div class="timeline">
      <div id="timeline">
        <ul id="dates">
          <li><a href="#">11/24/2011</a></li>
          <li><a href="#">6/28/2012</a></li>
          <li><a href="#">11/13/2013</a></li>
          <li><a href="#">1/1/2015</a></li>
          <li><a href="#">4/2/2015</a></li>
          <li><a href="#">6/30/2015</a></li>
          <li><a href="#">8/3/2015</a></li>
          <li><a href="#">11/2/2015</a></li>

        </ul>
        <ul id="issues">
          <li id="?">
            <h1>my trip1</h1>
            <!-- <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p> -->
          </li>
          <li id="?">
            <h1>my trip to 2</h1>
            <!-- <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p> -->
          </li>
          <li id="?">
            <h1>my trip to 3</h1>
            <!-- <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p> -->
          </li>
          <li id="?">
            <h1>my trip to 4</h1>
            <!-- <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p> -->
          </li>
          <li id="?">
            <h1>my trip to 5</h1>
            <!-- <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p> -->
          </li>
          <li id="?">
            <h1>This one is a really really really really long title...............</h1>
            <!-- <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p> -->
          </li>
          <li id="?">
            <h1>Vacaton to Europe</h1>
            <!-- <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p> -->
          </li>
          <li id="?">
            <h1>Trip to Montauk</h1>
            <!-- <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p> -->
          </li>
          <!-- <li id="1971">
            <img src="images/5.png" width="256" height="256" />
            <h1>1971</h1>
            <p>Donec semper quam scelerisque tortor dictum gravida. In hac habitasse platea dictumst. Nam pulvinar, odio sed rhoncus suscipit, sem diam ultrices mauris, eu consequat purus metus eu velit. Proin metus odio, aliquam eget molestie nec, gravida ut sapien. Phasellus quis est sed turpis sollicitudin venenatis sed eu odio. Praesent eget neque eu eros interdum malesuada non vel leo. Sed fringilla porta ligula.</p>
          </li> -->
        </ul>

        <a href="#" id="next">+</a>
        <a href="#" id="prev">-</a>

      </div>
    </div>
    <script>
      $(function(){
        $().timelinr({
          arrowKeys: 'true',
          startAt: 0
        })
      });
    </script>
    <script src="/lib/js/jquery.timelinr-0.9.54.js"></script>
  </body>
</html>
