<!DOCTYPE html>
<html ng-app="TravelApp">
  <head>
    <meta charset="utf-8">
    <title></title>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script> -->
    <script src="https://maps.googleapis.com/maps/api/js?libraries=places"></script>
    <script src="https://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.js"></script>
    <%= stylesheet_link_tag 'mapp', media: 'all', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'angular', 'data-turbolinks-track' => true %>
    </head>
  <body>
      <div ng-controller="mapController">
      <ng-map center="0, 0" zoom= 2 default-style="false" zoom-to-inlude-markers="true">
        <input class="search" places-auto-complete types="['geocode']" on-place-changed="placeChanged()"/>
        <marker position="-25.363882,131.044922" animation="DROP" title="Hello World!" on-click="toggleBounce()" on-click="shift()"></marker>
      </ng-map>
      <div/>
    <!-- John: Angular code -->
    <header ng-controller="HeaderController as header">
      <h1>Welcome, {{header.current_user.username}}!</h1>
    </header>
    <main ng-controller="TripsController as trips" id="temp-overflow">
      <h2>All of your trips</h2>
      <ul>
        <li ng-repeat="trip in trips.current_user_trips">
          Title: {{trip.title}}
          <br/>
          Destination: {{trip.destination}}
          <br/>
          Description: {{trip.description}}
          <br/>
          Start Date: {{trip.start_date}}
          <br/>
          End Date: {{trip.end_date}}
          <br/>
          Tags: {{trip.trip_type}}
          <br/>
          Notes: {{trip.notes}}
          <br/>
          <h3>Comments:</h3>
          <form ng-submit="trips.createComment(trip.id)">
            <input type="text" ng-model="trips.newCommentEntry" placeholder="entry"/>
            <br/>
            <input type="text" ng-model="trips.newCommentCommenter" placeholder="commenter"/>
            <input type="submit" value="Comment"/>
          </form>
        </li>
      </ul>
      <h2>Where have you been?</h2>
      <form ng-submit="trips.createTrip()">
        <input type="text" ng-model="trips.newTripTitle" placeholder="Title"/>
        <br/>
        <input type="text" ng-model="trips.newTripDestination" placeholder="Destination"/>
        <br/>
        <input type="text" ng-model="trips.newTripDescription" placeholder="Description"/>
        <br/>
        <input type="date" ng-model="trips.newTripStartDate" placeholder="Start Date"/>
        <br/>
        <input type="date" ng-model="trips.newTripEndDate" placeholder="End Date"/>
        <br/>
        <select ng-model="trips.newTripTripType">
          <option ng-repeat="tripType in trips.TRIPTYPE">{{tripType}}</option>
        </select>
        <br/>
        <input type="text" ng-model="trips.newTripNotes" placeholder="Notes"/>
        <br/>
        <input type="submit" value="Submit your Trip"/>
      </form>
    </main>
    <div id="modal">
      "HELLO THERE, FRIEND"
        <input id="pac-input" class="controls" type="text" placeholder="Where to James">
    </div>
  </body>
</html>
